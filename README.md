# SG_LSTM_core

## 1.project information 
1. @ARTICLE{SG-LSTM-FRAME,
2. author = {Weidun Xie(shelton xie),Jiawei Luo,Chu Pan,Ying Liu},  
3. title = {SG-LSTM-FRAME: A Frame Using Sequence and Geometry information via LSTM to predict gene-miRNA associations},
4. year = {2019},  
5. journal = {},}  

## 2.Environment: 
- Hardware: Intel i7-7700HQ ;Graphic Card：GTX1060 6G;32 GB RAM
- OS:win 10 64bit
- Python version: IDLE (Python 3.7 64-bit)#yep I wrote directly in IDLE :)
## 3.Needed python package: 
- PyQt5                5.10.1(for UI)
- Pandas               0.24.1(for file read)
- Sklearn              0.0(for comparison)
- tensorflow-estimator 1.13.0(for LSTM)
- tensorflow-gpu       1.13.1(for LSTM)
- numpy                1.16.2(for npy read and other functions)
- matplotlib           3.0.3(for roc curve plot)

## 4.How to run the file:
- 0 SG-LSTM(for test the model).py can help to build the model
- 0 SG-LSTM(for roc curve generation).py can use the model to do the test job, (generation of ROC curve)
also the scores!
- 1.put SG-LSTM(for test the model).py and X_train5.csv and X_test5.csv in the same folder
- 2.run SG-LSTM(for test the model).py (after a while of running,a folder named model5 would be generated)
- 3.put SG-LSTM(for roc curve generation).py and X_train5.csv and X_test5.csv in the same folder
- 4.You have to change the file root so that the roc curve could be generated successfully:
- From module_file = tf.train.latest_checkpoint("I://DNN模型重新测试/LSTM测试/测试24 SG相乘128 五折交叉验证/LSTM for test/models{}".format(gg))
- To module_file = tf.train.latest_checkpoint("C://Users/shelton/Desktop/SG-LSTM_master/models{}".format(gg))
- here 'gg' means the iteration of fold. gg=5 means the last fold of SG-LSTM-core
- please change it into your file root, otherwise it can not load the model.
 
 ### X_train5 and X_test5 can be download :
 X_train5.csv
links：https://pan.baidu.com/s/1ZvlfgQ8IjEo61extIU6WvQ 
password：5o11 
X_test5.csv
links：https://pan.baidu.com/s/1X7OmbCQq8OeudzWmkZydqQ 
password：ld7z 

 ## 5.Some Material for our framework(like dataset,and trained embeddings)
- S_gene2vec_320_34567.csv S_mrna2vec_384_34567.csv is the embedding generated from sequence information of 320 gene and 384miRNA
- G_gene2vec_328_gene.csv G_mirna2vec_384_mirna.csv is the embedding generated from geometric information.

- S_gene2vec_320_34567.csv+G_gene2vec_328_gene.csv can generate SG128_317_gene.csv.
- S_mrna2vec_384_34567 +G_mirna2vec_384_mirna.csv can generate SG128_383_miRNA.csv

- SG128_317_gene.csv is the embedding merged from Geometric information embedding and Sequence information embedding of gene.
- SG128_383_miRNA.csv is the embedding merged from Geometric information embedding and Sequence information embedding of miRNA.

- Using SG128_317_gene.csv and SG128_383_miRNA.csv and a file from mitarbase , you can

<p>
  
# SG_LSTM_Dataset UI 
I designed an UI for dataset construction. 
https://github.com/Xshelton/SG_LSTM_DatasetUI

This is the repository of SG_LSTM methods 
The dataset is 159MB for one fold of five folds, which I may upload later.



The Dataset can directly generated by this two file like the paper has introduced.





for running all_unkown_sample_generation.py

"SG_383_gene_default.csv" is needed,this file is the Dataset ,which can be generated by SG128_317_gene.csv  and SG128_383_miRNA.csv.
the Example of X_train5.csv and X_test5.csv is also uploaded in the cloud disk .

For the file that are too large to upload in the github,we also uploaded the file into the cloud disk for your reference.
The S128_383_miRNA.csv can be download 
links：https://pan.baidu.com/s/1UxRh-PrjaKUYKpIHxPDxzQ 
password：qsg0 


with file X_train5.csv and X_test5.csv, two python file can be run in the folder.


